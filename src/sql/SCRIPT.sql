DROP DATABASE EAMT;
CREATE database `EAMT` ;
USE EAMT;

CREATE TABLE CIDADE(
  IDCIDADE INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  NOME VARCHAR(45) NOT NULL,
  ATIVO INT NOT NULL DEFAULT 1,
  UF VARCHAR(45) NOT NULL
  );



CREATE TABLE CLIENTE (
  IDCLIENTE INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
  NOME VARCHAR(45) NOT NULL,
  CEP VARCHAR(9) NOT NULL,
  DATANASCIMENTO DATE NOT NULL,
  IDCIDADE INT NOT NULL,
  FOREIGN KEY (IDCIDADE) REFERENCES CIDADE(IDCIDADE)
);

INSERT INTO CIDADE(NOME,UF,ATIVO) VALUES ('TESTE','TST',1);

INSERT INTO CIDADE(NOME,UF,ATIVO) VALUES ('SANTA CATARINA','SC',1);

insert into cliente(NOME,CEP,DATANASCIMENTO,IDCIDADE) VALUES('JOHNATAN', '88017-232', '2000-10-10',1);

SELECT CLIENTE.IDCLIENTE, CLIENTE.NOME, CLIENTE.CEP, CLIENTE.DATANASCIMENTO, CLIENTE.IDCIDADE,CIDADE.NOME, CIDADE.UF 
FROM CLIENTE 
INNER JOIN CIDADE ON 
CLIENTE.IDCIDADE = CIDADE.IDCIDADE
WHERE ATIVO = 1 AND CIDADE.ATIVO = 1
ORDER BY CLIENTE.NOME ASC;

SELECT CLIENTE.IDCLIENTE, CLIENTE.NOME, CLIENTE.CEP, CLIENTE.DATANASCIMENTO, CLIENTE.IDCIDADE,CIDADE.NOME, CIDADE.UF
 FROM CLIENTE INNER JOIN CIDADE ON CLIENTE.IDCIDADE = CIDADE.IDCIDADE WHERE ATIVO = 1 AND CIDADE.ATIVO = 1 ORDER BY CLIENTE.NOME ASC;
